# Issue #557: Rename atdata local CLI -> atdata infra + reorganize local/ module

**Priority:** medium
**Parent:** #553
**Status:** open -> CLOSED
**Created:** 2026-02-02

## History

This issue tracked two related changes:
1. Renaming the CLI subcommand from `atdata local` to `atdata infra`
2. Reorganizing the `local/` module into `index/` + `stores/`

Sub-issues:
- #558 [open] -- Rename CLI: atdata local -> atdata infra
- #559 [open] -- Move local/ to index/ + stores/ with backward-compat shim
- #560 [open] -- Update all imports across tests, benchmarks, and src

Note: The original issue title says "atdata infra" but the issue was later opened as "atdata index" in #558. The actual implementation went with "atdata infra", which is the correct choice since it manages infrastructure (Docker containers for Redis/MinIO), not index operations.

## Current State Assessment

All three sub-issues are complete:

1. **CLI rename**: `src/atdata/cli/__init__.py` creates `infra_app = typer.Typer(name="infra", ...)` and registers it as `app.add_typer(infra_app, name="infra")`. The implementation lives in `src/atdata/cli/infra.py`.

2. **Module reorganization**:
   - `src/atdata/index/` contains `_index.py`, `_entry.py`, `_schema.py`, `__init__.py`
   - `src/atdata/stores/` contains `_disk.py`, `_s3.py`, `__init__.py`
   - `src/atdata/local/__init__.py` is a backward-compat shim re-exporting everything from `index/` and `stores/`

3. **Import updates**: All imports throughout the codebase reference the new module locations.

Blocked-by: #554 (closed) -- no longer blocked.

## Decision

**CLOSE** -- CLI renamed to `atdata infra`, local/ reorganized to index/ + stores/, all imports updated.
