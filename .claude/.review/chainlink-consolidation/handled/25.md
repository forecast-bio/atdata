# Issue #25: Evaluate schema representation formats (JSON Schema vs Protobuf vs custom)

## REVIEW

We should go through tinking about the next-steps additional schema and array representation formats we should add implementations for!

## Verdict: CLOSE

## Evidence
The decision was made to use JSON Schema (Draft 7) with an NDArray shim for schema representation. This is fully implemented throughout the codebase. The `JsonSchemaFormat` dataclass in `_lexicon_types.py` wraps JSON Schema bodies with an optional `arrayFormatVersions` map for NDArray format tracking. `SchemaPublisher` converts Python type annotations to JSON Schema properties (string, integer, number, boolean, byte-encoded bytes, NDArray via `$ref`, arrays). The `_schema_codec.py` module converts JSON Schema back to Python types for dynamic class generation. The NDArray shim uses a `$ref` pointing to `https://alt.science/schemas/atdata-ndarray-bytes/1.0.0#/$defs/ndarray`.

## Codebase References
- `src/atdata/atmosphere/_lexicon_types.py` lines 489-520 -- `JsonSchemaFormat` with `schema_body` and `array_format_versions`
- `src/atdata/atmosphere/schema.py` lines 135-145 -- JSON Schema body construction with `$schema`, `type`, `properties`, `required`
- `src/atdata/atmosphere/schema.py` lines 143-145 -- `arrayFormatVersions` set to `{"ndarrayBytes": "1.0.0"}` when NDArray present
- `src/atdata/atmosphere/schema.py` lines 159-193 -- `_python_type_to_json_schema()` type mapping including NDArray `$ref`
- `src/atdata/atmosphere/schema.py` line 174 -- NDArray `$ref` URL: `https://alt.science/schemas/atdata-ndarray-bytes/1.0.0#/$defs/ndarray`
- `src/atdata/_schema_codec.py` lines 130-223 -- `_convert_atmosphere_schema()` and `_json_schema_prop_to_field_type()` for reverse conversion
