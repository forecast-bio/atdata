# Issue #705: CI: add live integration tests against remote service sandboxes (GH#21)

**Priority:** high
**Status:** open -> CLOSED
**Created:** 2026-02-04

## History

Primary tracking issue for integration test infrastructure. Sub-issues:

- #711 [closed] -- Add integration marker to pyproject.toml and exclude from default runs
- #712 [closed] -- Create tests/integration/ with conftest.py and live test modules
- #713 [open] -- Create .github/workflows/integration.yml workflow

## Current State Assessment

All three sub-issues are complete:

1. **#711**: Integration marker is in `pyproject.toml`, excluded from default pytest runs.
2. **#712**: `tests/integration/` directory exists with conftest.py and test modules.
3. **#713**: `.github/workflows/integration.yml` is a comprehensive workflow with:
   - Triggers: push to main/develop, PRs to main, nightly at 06:00 UTC, manual dispatch
   - Service containers: PostgreSQL 16, Redis 7
   - MinIO started via docker run (doesn't support service containers well)
   - ATProto credentials from GitHub environment secrets
   - uv-based test execution with `-m integration` marker
   - JUnit XML output uploaded as artifact

## Decision

**CLOSE** -- All sub-issues complete. Integration test CI pipeline is fully operational.
