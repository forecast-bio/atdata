# Issue #559: Move local/ to index/ + stores/ with backward-compat shim

**Priority:** medium
**Parent:** #557
**Status:** open -> CLOSED
**Created:** 2026-02-02
**Blocking:** #560

## History

Sub-issue of #557. Tracks the module-level reorganization of splitting the monolithic `local/` module into two focused modules.

## Current State Assessment

The reorganization is complete:

**New `index/` module** (`src/atdata/index/`):
- `__init__.py` -- Public exports
- `_index.py` -- `Index` class (the main entry point)
- `_entry.py` -- `LocalDatasetEntry`, `BasicIndexEntry`
- `_schema.py` -- `LocalSchemaRecord`, schema helpers

**New `stores/` module** (`src/atdata/stores/`):
- `__init__.py` -- Public exports
- `_disk.py` -- `LocalDiskStore`
- `_s3.py` -- `S3DataStore`

**Backward-compat shim** (`src/atdata/local/__init__.py`):
- Re-exports everything from `atdata.index` and `atdata.stores`
- Includes deprecation notice in docstring
- Also re-exports `Repo` from `_repo_legacy.py` and `S3FileSystem` from `s3fs`
- Full `__all__` list covering all previously importable names

## Decision

**CLOSE** -- Module split is complete with a comprehensive backward-compatibility shim.
