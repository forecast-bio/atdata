# DataSource { #atdata.DataSource }

```python
DataSource()
```

Protocol for data sources that stream shard data to Dataset.

Implementations (URLSource, S3Source, BlobSource) yield
``(identifier, stream)`` pairs fed to WebDataset's tar expander,
bypassing URL resolution. This enables private S3, custom endpoints,
and ATProto blob streaming.

## Examples {.doc-section .doc-section-examples}

```python
>>> source = S3Source(bucket="my-bucket", keys=["data-000.tar"])
>>> ds = Dataset[MySample](source)
```

## Attributes

| Name | Description |
| --- | --- |
| [shards](#atdata.DataSource.shards) | Lazily yield ``(shard_id, stream)`` pairs for each shard. |

## Methods

| Name | Description |
| --- | --- |
| [list_shards](#atdata.DataSource.list_shards) | Shard identifiers without opening streams. |
| [open_shard](#atdata.DataSource.open_shard) | Open a single shard for random access (e.g., DataLoader splitting). |

### list_shards { #atdata.DataSource.list_shards }

```python
DataSource.list_shards()
```

Shard identifiers without opening streams.

### open_shard { #atdata.DataSource.open_shard }

```python
DataSource.open_shard(shard_id)
```

Open a single shard for random access (e.g., DataLoader splitting).

#### Raises {.doc-section .doc-section-raises}

| Name   | Type                   | Description                                |
|--------|------------------------|--------------------------------------------|
|        | [KeyError](`KeyError`) | If *shard_id* is not in ``list_shards()``. |